import{d as _,u as g,a as b,b as f,c as h,e as v,r as w,o as S,f as x,g as s,w as p,v as m,h as U,i as k,j as y,p as L,k as V,_ as A}from"./index-6f6749ac.js";import{f as I}from"./formApi-e583adde.js";import"./index-8d9b3034.js";class B{async getUserLogin(l){return(await I("/auth/getUserLogin",l)).data}}const C=new B,a=i=>(L("data-v-242e17c1"),i=i(),V(),i),D={id:"login"},F=a(()=>s("legend",null,"로그인",-1)),M=a(()=>s("h1",null,"Administrator",-1)),T={class:"label"},q=a(()=>s("span",{class:"icon"},"",-1)),N={class:"label"},$=a(()=>s("span",{class:"icon"},"",-1)),j=a(()=>s("span",{class:"remember"}," 아이디 저장",-1)),E=a(()=>s("button",{type:"submit"},"로그인",-1)),O=_({__name:"Login",setup(i){const{cookies:l}=g(),c=b(),d=f(),o=h();v(),l.get("settings")||o.setState();const t=w({id:o.id,password:"",remember:!!o.id}),u=()=>{const r=new FormData;r.append("id",t.id),r.append("password",t.password),r.append("remember",t.remember+""),t.remember?o.id=t.id:o.id="",C.getUserLogin(r).then(e=>{e&&e.success?(o.setState(),d.loginSuccess(e.data)):(d.loginFail(),c.open({title:null,message:"("+d.count+") "+e.message}))},e=>{console.log(e)})};return(r,e)=>(S(),x("div",D,[s("form",{onSubmit:e[3]||(e[3]=y(n=>u(),["prevent"])),method:"POST",ref:"login"},[s("fieldset",null,[F,M,s("label",T,[q,p(s("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=n=>t.id=n),name:"id",placeholder:"아이디를 입력해주세요",required:""},null,512),[[m,t.id]])]),s("label",N,[$,p(s("input",{type:"password","onUpdate:modelValue":e[1]||(e[1]=n=>t.password=n),name:"password",placeholder:"비밀번호를 입력해주세요",required:""},null,512),[[m,t.password]])]),s("label",null,[p(s("input",{type:"checkbox","onUpdate:modelValue":e[2]||(e[2]=n=>t.remember=n),name:"remember"},null,512),[[U,t.remember]]),k(),j]),E])],544)]))}});const H=A(O,[["__scopeId","data-v-242e17c1"]]);export{H as default};
