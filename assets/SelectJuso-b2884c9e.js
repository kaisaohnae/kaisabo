import{d as v,r as h,A as S,o as l,f as c,w as u,v as y,g as r,M as J,H as b,I as w,K as j,p as k,k as x,_ as M}from"./index-6f6749ac.js";import{f as p}from"./formApi-e583adde.js";class A{async getJuso(d){return(await p("/bo/juso/getJuso",d||{})).data}async getPosition(d){return(await p("/bo/juso/getPosition",d||{})).data}}const _=new A,q=o=>(k("data-v-42a228fa"),o=o(),x(),o),C={class:"selectJusoWrap"},D=["required"],L={class:"layerJuso"},I=q(()=>r("span",{class:"icon"},"",-1)),B=[I],F=["onClick"],P=v({__name:"SelectJuso",props:{addr:{type:String,required:!0},required:{type:Boolean,required:!1},maxlength:{type:Number,required:!1,default:200}},emits:["set-addr"],setup(o,{emit:d}){const t=h({active:!1,idx:0,addr:o.addr,jusoList:[]}),m=()=>{t.active=!1},f=()=>{t.active=!0;let s=new FormData;s.append("addr",t.addr+""),_.getJuso(s).then(e=>{var a,n;e&&e.success&&((n=(a=e.data)==null?void 0:a.results)!=null&&n.juso)?(t.jusoList=e.data.results.juso,t.jusoList.length==0&&alert("결과값이 없습니다.")):e.data.results.common.errorMessage!="정상"?alert(e.data.results.common.errorMessage):alert("조회시 오류가 발생했습니다. 관리자에게 문의해주세요.")},e=>{console.log(e)})},g=s=>{if(s.roadAddr){t.addr=s.roadAddr;let e=new FormData;e.append("roadAddr",s.roadAddr+""),e.append("admCd",s.admCd+""),e.append("rnMgtSn",s.rnMgtSn+""),e.append("udrtYn",s.udrtYn+""),e.append("buldMnnm",s.buldMnnm+""),e.append("buldSlno",s.buldSlno+""),_.getPosition(e).then(a=>{t.active=!1,a.data?(t.addr=s.roadAddr,d("set-addr",a.data)):console.log(a)},a=>{console.log(a)})}};return S(()=>{}),(s,e)=>(l(),c("span",C,[u(r("input",{type:"text",placeholder:"주소를 입력하세요",style:{width:"250px"},required:o.required,"onUpdate:modelValue":e[0]||(e[0]=a=>t.addr=a)},null,8,D),[[y,t.addr]]),r("button",{type:"button",onClick:f,class:"button3"},"주소검색"),u(r("div",L,[r("div",{class:"close",onClick:m},B),r("ul",null,[(l(!0),c(b,null,w(t.jusoList,(a,n)=>(l(),c("li",{key:n,onClick:N=>g(a)},j(a.roadAddr),9,F))),128))])],512),[[J,t.jusoList.length>0&&t.active]])]))}});const $=M(P,[["__scopeId","data-v-42a228fa"]]);export{$ as S};
