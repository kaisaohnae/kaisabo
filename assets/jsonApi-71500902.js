import{a as n}from"./index-8d9b3034.js";import{a as i,O as l}from"./index-6f6749ac.js";const c=i();let u="http://localhost:9995";const s=l(),r=n.create({timeout:2e4,baseURL:u});r.interceptors.request.use(e=>(s.start(),e),e=>(s.end(),console.log(e),Promise.reject()));r.interceptors.response.use(e=>{if(s.end(),e.status===200)return e;Promise.reject()},e=>{var a;s.end(),console.log(e);const t=(a=e.response)==null?void 0:a.data;return t&&t.message&&c.open({title:null,message:t.message}),Promise.reject()});const o=JSON.parse(localStorage.getItem("userInfo")||"{}"),p={method:"post",headers:{"Content-Type":"application/json",Authorization:"Bearer "+(o==null?void 0:o.token)},withCredentials:!1},g=(e,t)=>r({url:e,data:JSON.stringify(t),...p});export{g as j};
